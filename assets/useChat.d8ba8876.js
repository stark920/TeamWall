import{l as h,A as p,P as R,L as f,Q as g,u as v}from"./index.95bfec7c.js";const u=h.create({baseURL:`${p}/chat`,timeout:2e4}),m=()=>localStorage.getItem("metaWall")?{headers:{Authorization:localStorage.getItem("metaWall")}}:!1,S={record:()=>u.get("/chat-record",m()),room:o=>u.post("/room-info",o,m())},A=()=>document.body.clientWidth>=1024?"desktop":"mobile",k=()=>{const o=R(),a=f(),{room:t}=g(o),i=v(),l=e=>t.value.map(s=>s.roomId).includes(e);return{handleRoom:e=>{const{roomId:r,name:s,avatar:d}=e,n={roomId:r,name:s,avatar:d,isOpen:!0},c=A();if(console.log("device",c),c==="desktop"){if(l(r))return;if(t.value.length===3){i.error("\u60A8\u6700\u591A\u53EA\u80FD\u8DDF\u4E09\u500B\u4EBA\u804A\u5929\u5466\uFF01");return}o.updateRoom([...t.value,n]);return}o.updateRoom([n]),console.log("router",a),a.push("/chat-room")}}};export{S as a,k as u};
